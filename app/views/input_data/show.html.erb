<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @input_datum.name %>
</p>

<p>
  <strong>Origin lat:</strong>
  <%= @input_datum.origin_lat %>
</p>

<p>
  <strong>Origin lon:</strong>
  <%= @input_datum.origin_lon %>
</p>

<p>
  <strong>Scanned at:</strong>
  <%= @input_datum.scanned_at %>
</p>

<p>
  <strong>Header metadata:</strong>
  <%= @input_datum.header_metadata %>
</p>

<%= link_to 'Edit', edit_input_datum_path(@input_datum) %> |
<%= link_to 'Back', input_data_path %>
<%= link_to 'Download_Plot', @input_datum.plot_file.service_url(:disposition => 'attachment') %>
<%= link_to 'Download_NetCDF', @input_datum.input_netcdf.service_url %>

 <h1>Image Overlay Display</h1>

    <div>
    <table>
    <thead>
        <tr>
        <th>ID</th>
        <th>Sample Time</th>
        <th>URL</th>
        </tr>
    </thead>
    
    <tbody>
    </tbody>
    </table>
</div>
    <div id="mapid" style="width: 1000px; height: 800px"></div>

<script>
    var map = L.map('mapid').setView([<%= @input_datum.origin_lat %>, <%= @input_datum.origin_lon %>],9)
    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		id: 'mapbox.streets'
	}).addTo(map);

    var imageUrl;
    imageUrl = '<%= @input_datum.plot_file.service_url if @input_datum.plot_file.attached? %>';
    imageBounds = [[32.1227, -97.4363], [32.8609, -96.5584]]; 
    L.imageOverlay(imageUrl, imageBounds).addTo(map);
</script>
